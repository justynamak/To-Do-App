!function(t){var e={};function n(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}n.r(e);var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.task=null,this.done=!1,this.id=0}var e,n,r;return e=t,(n=[{key:"setTask",value:function(t){this.task=t}},{key:"setDone",value:function(t){this.done=t}},{key:"setId",value:function(t){this.id=t}}])&&a(e.prototype,n),r&&a(e,r),t}();function o(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tasks=[],this.active=!1,this.date=null}var e,n,a;return e=t,(n=[{key:"addTask",value:function(t){return this.tasks.push(t),this.tasks.indexOf(t)}},{key:"removeTask",value:function(t){this.tasks.splice(t,1)}},{key:"removeAllTasks",value:function(){this.tasks.splice(0,this.tasks.length)}}])&&o(e.prototype,n),a&&o(e,a),t}(),c={monday:new i,tuesday:new i,wednesday:new i,thursday:new i,friday:new i,saturday:new i,sunday:new i};function s(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var l,u,d,f,v,y=function(t){for(var e in t)if(t[e].active)return e},k=function(t,e){var n=e.findIndex(function(t){return t.classList.contains("active")});e[n].classList.remove("active"),document.querySelector(".nav-item[data-day=".concat(t,"]")).classList.add("active")},g=function(t){var e=document.querySelector("#to-do-list"),n=document.querySelector("#clone").cloneNode(!0);n.removeAttribute("id"),n.style.display="block",e.appendChild(n),document.querySelector(".btn-clear-all").style.display="block",n.querySelector(".delete-task-btn").classList.add("delete-btn"),n.querySelector(".task-panel:first-child button").classList.add("check-btn"),n.querySelector(".task-panel .form-control").classList.add("task-field"),n.querySelector(".form-control").value=t.task,n.dataset.id=t.id},h=function(t){var e=t.id,n=document.querySelector('li[data-id="'.concat(e,'"]')),a=n.querySelector(".check-btn");n.querySelector(".task-field");a.classList.add("btn-success")},p=function(t){var e=function(e){var n=e,a=t[e].tasks.length,r=document.querySelector('.nav-item[data-day="'.concat(n,'"] .badge')),o=0;t[e].tasks.forEach(function(t){t.done&&o++}),r.innerHTML="".concat(o,"/").concat(a),r.style.backgroundColor=a===o&&0!==a?"#28a745":""};for(var n in t)e(n)},m=function(t,e){var n=document.querySelectorAll(".date"),a=new Date,r=["poniedziałek","wtorek","środa","czwartek","piątek","sobota","niedziela"],o=["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],i=a.getDay()-1>=0?a.getDay()-1:6,c=a.getDate(),s=i,l=new Date(a.getFullYear(),a.getMonth(),a.getDate()),u=function(){var t,e,n=(t=l.getMonth()+1,e=l.getFullYear(),new Date(e,t,0).getDate());if(l.getDate()===n)return!0};return n.forEach(function(t,e){e<i?(u()?(l.setDate(1),l.setMonth(a.getMonth())):l.setDate(c-s),t.innerHTML="".concat(l.getDate()," ").concat(o[l.getMonth()]," ").concat(r[e]),s--):e===i?t.innerHTML="".concat(a.getDate()," ").concat(o[a.getMonth()]," ").concat(r[e]):(s++,u()?(l.setDate(1),l.setMonth(a.getMonth())):l.setDate(a.getDate()+s),t.innerHTML="".concat(l.getDate()," ").concat(o[l.getMonth()]," ").concat(r[e]))}),t[i].dataset.day};function b(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}l=document.querySelector("#to-do-list"),u=document.querySelector(".btn-clear-all"),d=b(document.querySelectorAll(".nav-item")),f=function(){localStorage.setItem("week",JSON.stringify(c))},v=function(t){var e=t.currentTarget.dataset.day,n=b(document.querySelectorAll(".single-task:not(#clone)"));k(e,d);var a=y(c);c[a].active=!1,c[e].active=!0,c[e].tasks.length||(u.style.display="none"),n.forEach(function(t){l.removeChild(t)}),c[e].tasks.forEach(function(t){g(t),t.done&&h(t)}),f()},document.addEventListener("DOMContentLoaded",function(){var t=m(d);k(t,d),c[t].active=!0;var e=localStorage.getItem("week"),n=JSON.parse(e);if(function(t,e){var n=0;for(var a in t){var r=t[a].date,o=e[n].innerText;if(null===r)return;r.substring(0)!==o.substring(0)&&(t[a].tasks=[]),n++}}(n,d),function(t,e){var n=0;for(var a in t)t[a].date=e[n].innerText,n++}(c,d),localStorage.getItem("week")){var a=function(t){n[t].tasks.forEach(function(e){var n=new r;n.setTask(e.task),n.setDone(e.done),n.setId(e.id),c[t].addTask(n)})};for(var o in n)a(o);n[t].tasks.forEach(function(t){g(t),t.done&&h(t)})}p(c),f()}),document.querySelector("#btn-add").addEventListener("click",function(t){t.preventDefault();var e=y(c);if(c[e].tasks.length>=10)alert("Maksymalna ilość zadań to 10. Jeśli chcesz dodać nowe zadanie musisz coś usunąć");else{var n,a=function(){var t=document.querySelector(".input-add"),e=t.value;if(""!==e)return t.value="",e}();a&&((n=new r).setTask(a),n.setId(c[e].addTask(n)),g(n),f(),p(c),$("#toast-added").toast("show"))}}),l.addEventListener("click",function(t){if(t.preventDefault(),t.target.classList.contains("delete-btn")||t.target.parentElement.classList.contains("delete-btn")){var e=t.target.closest("li"),n=y(c);c[n].removeTask(e.dataset.id),e.parentElement.removeChild(e),$("#toast-removed").toast("show"),c[n].tasks.forEach(function(t,e){t.setId(e)}),a=c[n].tasks,r=s(document.querySelectorAll(".single-task:not(#clone)")),a.forEach(function(t,e){r[e].dataset.id=t.id}),f(),p(c),c[n].tasks.length||(u.style.display="none")}var a,r}),l.addEventListener("click",function(t){if(t.preventDefault(),t.target.classList.contains("check-btn")||t.target.parentElement.classList.contains("check-btn")){var e=t.target.closest("li"),n=y(c);c[n].tasks[e.dataset.id].setDone(!0),t.target.classList.contains("check-btn")?t.target.classList.add("btn-success"):t.target.parentElement.classList.add("btn-success"),f(),p(c)}}),l.addEventListener("input",function(t){if(t.preventDefault(),t.target.classList.contains("task-field")){var e=t.target.closest("li").dataset.id,n=t.target.value,a=y(c);c[a].tasks[e].setTask(n),f()}}),u.addEventListener("click",function(t){t.preventDefault();var e=y(c);c[e].removeAllTasks(),f(),document.querySelectorAll(".single-task:not(#clone)").forEach(function(t){l.removeChild(t)}),c[e].tasks.length||(u.style.display="none"),p(c),$("#toast-removed-all").toast("show")}),d.forEach(function(t){t.addEventListener("click",v)})}]);
//# sourceMappingURL=bundle.js.map